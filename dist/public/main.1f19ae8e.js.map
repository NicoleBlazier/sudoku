{"version":3,"sources":["main.js"],"names":["CONSTANT","UNASSIGNED","GRID_SIZE","BOX_SIZE","NUMBERS","LEVEL_NAME","LEVEL","document","querySelector","addEventListener","body","classList","toggle","isDarkMode","contains","localStorage","setItem","setAttribute","start_screen","game_screen","pause_screen","result_screen","cells","querySelectorAll","name_input","number_inputs","player_name","game_level","game_time","result_time","level_index","level","timer","pause","seconds","su","undefined","su_answer","selected_cell","getGameInfo","JSON","parse","getItem","initGameGrid","index","i","Math","pow","row","floor","col","style","marginBottom","marginRight","setPlayerName","name","getPlayerName","showTime","Date","toISOString","substr","clearSudoku","innerHTML","remove","initSudoku","resetBg","sudokuGen","question","saveGameInfo","add","loadSudoku","game","answer","hoverBg","box_start_row","box_start_col","j","cell","step","forEach","e","checkErr","value","addErr","parseInt","getAttribute","setTimeout","removeErr","original","stringify","removeGameInfo","removeItem","display","isGameWin","sudokuCheck","showResult","clearInterval","start","stop","initNumberInputEvent","initCellsEvent","startGame","trim","setInterval","returnStartScreen","length","target","focus","console","log","init","darkmode","confetti","newGrid","size","arr","Array","isColSafe","grid","isRowSafe","isBoxSafe","box_row","box_col","isSafe","findUnassignedPos","pos","shuffleArray","curr_index","rand_index","random","temp","isFullGrid","every","sudokuCreate","unassigned_pos","number_list","num","rand","removeCells","res","attemps","sudoku","check","maxCount","speed","frameInterval","alpha","gradient","resume","togglePause","isPaused","isRunning","startConfetti","stopConfetti","toggleConfetti","pauseConfetti","resumeConfetti","toggleConfettiPause","isConfettiPaused","removeConfetti","isConfettiRunning","supportsAnimationFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","colors","streamingConfetti","animationTimer","lastFrameTime","now","particles","waveAngle","context","resetParticle","particle","width","height","color","color2","x","y","diameter","tilt","tiltAngleIncrement","tiltAngle","PI","runAnimation","clearRect","innerWidth","innerHeight","delta","updateParticles","drawParticles","timeout","min","max","callback","canvas","getElementById","createElement","prepend","getContext","count","push","x2","y2","beginPath","lineWidth","createLinearGradient","addColorStop","strokeStyle","moveTo","lineTo","stroke","sin","cos","splice"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../../src/public","sourcesContent":["const CONSTANT = {\n    UNASSIGNED: 0,\n    GRID_SIZE: 9,\n    BOX_SIZE: 3,\n    NUMBERS: [1,2,3,4,5,6,7,8,9],\n    LEVEL_NAME: [\n        'Easy',\n        'Medium',\n        'Hard',\n        'Very hard',\n        'Insane',\n        'Inhuman'\n    ],\n    LEVEL: [29, 38, 47, 56, 65, 74]\n}\n\ndocument.querySelector('#toggle-dark').addEventListener('click', () => {\n    document.body.classList.toggle('dark');\n    const isDarkMode = document.body.classList.contains('dark');\n    localStorage.setItem('darkmode', isDarkMode);\n    // chang mobile status bar color\n    document.querySelector('meta[name=\"theme-color\"').setAttribute('content', isDarkMode ? '#1a1a2e' : '#fff');\n});\n\n// initial value\n\n// screens\nconst start_screen = document.querySelector('#start-screen');\nconst game_screen = document.querySelector('#game-screen');\nconst pause_screen = document.querySelector('#pause-screen');\nconst result_screen = document.querySelector('#result-screen');\n// ----------\nconst cells = document.querySelectorAll('.main-grid-cell');\n\nconst name_input = document.querySelector('#input-name');\n\nconst number_inputs = document.querySelectorAll('.number');\n\nconst player_name = document.querySelector('#player-name');\nconst game_level = document.querySelector('#game-level');\nconst game_time = document.querySelector('#game-time');\n\nconst result_time = document.querySelector('#result-time');\n\nlet level_index = 0;\nlet level = CONSTANT.LEVEL[level_index];\n\nlet timer = null;\nlet pause = false;\nlet seconds = 0;\n\nlet su = undefined;\nlet su_answer = undefined;\n\nlet selected_cell = -1;\n\n// --------\n\nconst getGameInfo = () => JSON.parse(localStorage.getItem('game'));\n\n// add space for each 9 cells\nconst initGameGrid = () => {\n    let index = 0;\n\n    for (let i = 0; i < Math.pow(CONSTANT.GRID_SIZE,2); i++) {\n        let row = Math.floor(i/CONSTANT.GRID_SIZE);\n        let col = i % CONSTANT.GRID_SIZE;\n        if (row === 2 || row === 5) cells[index].style.marginBottom = '10px';\n        if (col === 2 || col === 5) cells[index].style.marginRight = '10px';\n\n        index++;\n    }\n}\n// ----------------\n\nconst setPlayerName = (name) => localStorage.setItem('player_name', name);\nconst getPlayerName = () => localStorage.getItem('player_name');\n\nconst showTime = (seconds) => new Date(seconds * 1000).toISOString().substr(11, 8);\n\nconst clearSudoku = () => {\n    for (let i = 0; i < Math.pow(CONSTANT.GRID_SIZE, 2); i++) {\n        cells[i].innerHTML = '';\n        cells[i].classList.remove('filled');\n        cells[i].classList.remove('selected');\n    }\n}\n\nconst initSudoku = () => {\n    // clear old sudoku\n    clearSudoku();\n    resetBg();\n    // generate sudoku puzzle here\n    su = sudokuGen(level);\n    su_answer = [...su.question];\n\n    seconds = 0;\n\n    saveGameInfo();\n\n    // show sudoku to div\n    for (let i = 0; i < Math.pow(CONSTANT.GRID_SIZE, 2); i++) {\n        let row = Math.floor(i / CONSTANT.GRID_SIZE);\n        let col = i % CONSTANT.GRID_SIZE;\n\n        cells[i].setAttribute('data-value', su.question[row][col]);\n\n        if (su.question[row][col] !== 0) {\n            cells[i].classList.add('filled');\n            cells[i].innerHTML = su.question[row][col];\n        }\n    }\n}\n\nconst loadSudoku = () => {\n    let game = getGameInfo();\n\n    game_level.innerHTML = CONSTANT.LEVEL_NAME[game.level];\n\n    su = game.su;\n\n    su_answer = su.answer;\n\n    seconds = game.seconds;\n    game_time.innerHTML = showTime(seconds);\n\n    level_index = game.level;\n\n    // show sudoku to div\n    for (let i = 0; i < Math.pow(CONSTANT.GRID_SIZE, 2); i++) {\n        let row = Math.floor(i / CONSTANT.GRID_SIZE);\n        let col = i % CONSTANT.GRID_SIZE;\n\n        cells[i].setAttribute('data-value', su_answer[row][col]);\n        cells[i].innerHTML = su_answer[row][col] !== 0 ? su_answer[row][col] : '';\n        if (su.question[row][col] !== 0) {\n            cells[i].classList.add('filled');\n        }\n    }\n}\n\nconst hoverBg = (index) => {\n    let row = Math.floor(index / CONSTANT.GRID_SIZE);\n    let col = index % CONSTANT.GRID_SIZE;\n\n    let box_start_row = row - row % 3;\n    let box_start_col = col - col % 3;\n\n    for (let i = 0; i < CONSTANT.BOX_SIZE; i++) {\n        for (let j = 0; j < CONSTANT.BOX_SIZE; j++) {\n            let cell = cells[9 * (box_start_row + i) + (box_start_col + j)];\n            cell.classList.add('hover');\n        }\n    }\n\n    let step = 9;\n    while (index - step >= 0) {\n        cells[index - step].classList.add('hover');\n        step += 9;\n    }\n\n    step = 9;\n    while (index + step < 81) {\n        cells[index + step].classList.add('hover');\n        step += 9;\n    }\n\n    step = 1;\n    while (index - step >= 9*row) {\n        cells[index - step].classList.add('hover');\n        step += 1;\n    }\n\n    step = 1;\n     while (index + step < 9*row + 9) {\n        cells[index + step].classList.add('hover');\n        step += 1;\n    }\n}\n\nconst resetBg = () => {\n    cells.forEach(e => e.classList.remove('hover'));\n}\n\nconst checkErr = (value) => {\n    const addErr = (cell) => {\n        if (parseInt(cell.getAttribute('data-value')) === value) {\n            cell.classList.add('err');\n            cell.classList.add('cell-err');\n            setTimeout(() => {\n                cell.classList.remove('cell-err');\n            }, 500);\n        }\n    }\n\n    let index = selected_cell;\n\n    let row = Math.floor(index / CONSTANT.GRID_SIZE);\n    let col = index % CONSTANT.GRID_SIZE;\n\n    let box_start_row = row - row % 3;\n    let box_start_col = col - col % 3;\n\n    for (let i = 0; i < CONSTANT.BOX_SIZE; i++) {\n        for (let j = 0; j < CONSTANT.BOX_SIZE; j++) {\n            let cell = cells[9 * (box_start_row + i) + (box_start_col + j)];\n            if (!cell.classList.contains('selected')) addErr(cell);\n        }\n    }\n\n    let step = 9;\n    while (index - step >= 0) {\n        addErr(cells[index - step]);\n        step += 9;\n    }\n\n    step = 9;\n    while (index + step < 81) {\n        addErr(cells[index + step]);\n        step += 9;\n    }\n\n    step = 1;\n    while (index - step >= 9*row) {\n        addErr(cells[index - step]);\n        step += 1;\n    }\n\n    step = 1;\n    while (index + step < 9*row + 9) {\n        addErr(cells[index + step]);\n        step += 1;\n    }\n}\n\nconst removeErr = () => cells.forEach(e => e.classList.remove('err'));\n\nconst saveGameInfo = () => {\n    let game = {\n        level: level_index,\n        seconds: seconds,\n        su: {\n            original: su.original,\n            question: su.question,\n            answer: su_answer\n        }\n    }\n    localStorage.setItem('game', JSON.stringify(game));\n}\n\nconst removeGameInfo = () => {\n    localStorage.removeItem('game');\n    document.querySelector('#btn-continue').style.display = 'none';\n}\n\nconst isGameWin = () => sudokuCheck(su_answer);\n\nconst showResult = () => {\n    clearInterval(timer);\n    result_screen.classList.add('active');\n    result_time.innerHTML = showTime(seconds);\n    start();\n    stop();\n}\n\nconst initNumberInputEvent = () => {\n    number_inputs.forEach((e, index) => {\n        e.addEventListener('click', () => {\n            if (!cells[selected_cell].classList.contains('filled')) {\n                cells[selected_cell].innerHTML = index + 1;\n                cells[selected_cell].setAttribute('data-value', index + 1);\n                // add to answer\n                let row = Math.floor(selected_cell / CONSTANT.GRID_SIZE);\n                let col = selected_cell % CONSTANT.GRID_SIZE;\n                su_answer[row][col] = index + 1;\n                // save game\n                saveGameInfo()\n                // -----\n                removeErr();\n                checkErr(index + 1);\n                cells[selected_cell].classList.add('zoom-in');\n                setTimeout(() => {\n                    cells[selected_cell].classList.remove('zoom-in');\n                }, 500);\n\n                // check game win\n                if (isGameWin()) {\n                    removeGameInfo();\n                    showResult();\n                }\n                // ----\n            }\n        })\n    })\n}\n\nconst initCellsEvent = () => {\n    cells.forEach((e, index) => {\n        e.addEventListener('click', () => {\n            if (!e.classList.contains('filled')) {\n                cells.forEach(e => e.classList.remove('selected'));\n\n                selected_cell = index;\n                e.classList.remove('err');\n                e.classList.add('selected');\n                resetBg();\n                hoverBg(index);\n            }\n        })\n    })\n}\n\nconst startGame = () => {\n    start_screen.classList.remove('active');\n    game_screen.classList.add('active');\n\n    player_name.innerHTML = name_input.value.trim();\n    setPlayerName(name_input.value.trim());\n\n    game_level.innerHTML = CONSTANT.LEVEL_NAME[level_index];\n\n    showTime(seconds);\n\n    timer = setInterval(() => {\n        if (!pause) {\n            seconds = seconds + 1;\n            game_time.innerHTML = showTime(seconds);\n        }\n    }, 1000);\n}\n\nconst returnStartScreen = () => {\n    clearInterval(timer);\n    pause = false;\n    seconds = 0;\n    start_screen.classList.add('active');\n    game_screen.classList.remove('active');\n    pause_screen.classList.remove('active');\n    result_screen.classList.remove('active');\n}\n\n// add button event\ndocument.querySelector('#btn-level').addEventListener('click', (e) => {\n    level_index = level_index + 1 > CONSTANT.LEVEL.length - 1 ? 0 : level_index + 1;\n    level = CONSTANT.LEVEL[level_index];\n    e.target.innerHTML = CONSTANT.LEVEL_NAME[level_index];\n});\n\ndocument.querySelector('#btn-play').addEventListener('click', () => {\n    if (name_input.value.trim().length > 0) {\n        initSudoku();\n        startGame();\n    } else {\n        name_input.classList.add('input-err');\n        setTimeout(() => {\n            name_input.classList.remove('input-err');\n            name_input.focus();\n        }, 500);\n    }\n});\n\ndocument.querySelector('#btn-continue').addEventListener('click', () => {\n    if (name_input.value.trim().length > 0) {\n        loadSudoku();\n        startGame();\n    } else {\n        name_input.classList.add('input-err');\n        setTimeout(() => {\n            name_input.classList.remove('input-err');\n            name_input.focus();\n        }, 500);\n    }\n});\n\ndocument.querySelector('#btn-pause').addEventListener('click', () => {\n    pause_screen.classList.add('active');\n    pause = true;\n});\n\ndocument.querySelector('#btn-resume').addEventListener('click', () => {\n    pause_screen.classList.remove('active');\n    pause = false;\n});\n\ndocument.querySelector('#btn-new-game').addEventListener('click', () => {\n    returnStartScreen();\n});\n\ndocument.querySelector('#btn-new-game-2').addEventListener('click', () => {\n    console.log('object')\n    returnStartScreen();\n});\n\ndocument.querySelector('#btn-delete').addEventListener('click', () => {\n    cells[selected_cell].innerHTML = '';\n    cells[selected_cell].setAttribute('data-value', 0);\n\n    let row = Math.floor(selected_cell / CONSTANT.GRID_SIZE);\n    let col = selected_cell % CONSTANT.GRID_SIZE;\n\n    su_answer[row][col] = 0;\n\n    removeErr();\n})\n// -------------\n\nconst init = () => {\n    const darkmode = JSON.parse(localStorage.getItem('darkmode'));\n    document.body.classList.add(darkmode ? 'dark' : 'light');\n    document.querySelector('meta[name=\"theme-color\"').setAttribute('content', darkmode ? '#1a1a2e' : '#fff');\n\n    const game = getGameInfo();\n\n    document.querySelector('#btn-continue').style.display = game ? 'grid' : 'none';\n\n    initGameGrid();\n    initCellsEvent();\n    initNumberInputEvent();\n\n    if (getPlayerName()) {\n        name_input.value = getPlayerName();\n    } else {\n        name_input.focus();\n    }\n}\n\ninit();\n\n// for starting the confetti\n\nconst start = () => {\n    setTimeout(function() {\n        confetti.start()\n    }, 1000); // 1000 is time that after 1 second start the confetti ( 1000 = 1 sec)\n};\n\n//  for stopping the confetti\n\nconst stop = () => {\n    setTimeout(function() {\n        confetti.stop()\n    }, 5000); // 5000 is time that after 5 second stop the confetti ( 5000 = 5 sec)\n};\n\n\n///////// sudoku.js\nconst newGrid = (size) => {\n    let arr = new Array(size);\n\n    for (let i = 0; i < size; i++) {\n        arr[i] = new Array(size);\n    }\n\n    for (let i = 0; i < Math.pow(size, 2); i++) {\n        arr[Math.floor(i/size)][i%size] = CONSTANT.UNASSIGNED;\n    }\n\n    return arr;\n}\n\n// check duplicate number in col\nconst isColSafe = (grid, col, value) => {\n    for (let row = 0; row < CONSTANT.GRID_SIZE; row++) {\n        if (grid[row][col] === value) return false;\n    }\n    return true;\n}\n\n// check duplicate number in row\nconst isRowSafe = (grid, row, value) => {\n    for (let col = 0; col < CONSTANT.GRID_SIZE; col++) {\n        if (grid[row][col] === value) return false;\n    }\n    return true;\n}\n\n// check duplicate number in 3x3 box\nconst isBoxSafe = (grid, box_row, box_col, value) => {\n    for (let row = 0; row < CONSTANT.BOX_SIZE; row++) {\n        for (let col = 0; col < CONSTANT.BOX_SIZE; col++) {\n            if (grid[row + box_row][col + box_col] === value) return false;\n        }\n    }\n    return true;\n}\n\n// check in row, col and 3x3 box\nconst isSafe = (grid, row, col, value) => {\n    return isColSafe(grid, col, value) && isRowSafe(grid, row, value) && isBoxSafe(grid, row - row%3, col - col%3, value) && value !== CONSTANT.UNASSIGNED;\n}\n\n// find unassigned cell\nconst findUnassignedPos = (grid, pos) => {\n    for (let row = 0; row < CONSTANT.GRID_SIZE; row++) {\n        for (let col = 0; col < CONSTANT.GRID_SIZE; col++) {\n            if (grid[row][col] === CONSTANT.UNASSIGNED) {\n                pos.row = row;\n                pos.col = col;\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\n// shuffle arr\nconst shuffleArray = (arr) => {\n    let curr_index = arr.length;\n\n    while (curr_index !== 0) {\n        let rand_index = Math.floor(Math.random() * curr_index);\n        curr_index -= 1;\n\n        let temp = arr[curr_index];\n        arr[curr_index] = arr[rand_index];\n        arr[rand_index] = temp;\n    }\n\n    return arr;\n}\n\n// check puzzle is complete\nconst isFullGrid = (grid) => {\n    return grid.every((row, i) => {\n        return row.every((value, j) => {\n            return value !== CONSTANT.UNASSIGNED;\n        });\n    });\n}\n\nconst sudokuCreate = (grid) => {\n    let unassigned_pos = {\n        row: -1,\n        col: -1\n    }\n\n    if (!findUnassignedPos(grid, unassigned_pos)) return true;\n\n    let number_list = shuffleArray([...CONSTANT.NUMBERS]);\n\n    let row = unassigned_pos.row;\n    let col = unassigned_pos.col;\n\n    number_list.forEach((num, i) => {\n        if (isSafe(grid, row, col, num)) {\n            grid[row][col] = num;\n\n            if (isFullGrid(grid)) {\n                return true;\n            } else {\n                if (sudokuCreate(grid)) {\n                    return true;\n                }\n            }\n\n            grid[row][col] = CONSTANT.UNASSIGNED;\n        }\n    });\n\n    return isFullGrid(grid);\n}\n\nconst sudokuCheck = (grid) => {\n    let unassigned_pos = {\n        row: -1,\n        col: -1\n    }\n\n    if (!findUnassignedPos(grid, unassigned_pos)) return true;\n\n    grid.forEach((row, i) => {\n        row.forEach((num, j) => {\n            if (isSafe(grid, i, j, num)) {\n                if (isFullGrid(grid)) {\n                    return true;\n                } else {\n                    if (sudokuCreate(grid)) {\n                        return true;\n                    }\n                }\n            }\n        })\n    })\n\n    return isFullGrid(grid);\n}\n\nconst rand = () => Math.floor(Math.random() * CONSTANT.GRID_SIZE);\n\nconst removeCells = (grid, level) => {\n    let res = [...grid];\n    let attemps = level;\n    while (attemps > 0) {\n        let row = rand();\n        let col = rand();\n        while (res[row][col] === 0) {\n            row = rand();\n            col = rand();\n        }\n        res[row][col] = CONSTANT.UNASSIGNED;\n        attemps--;\n    }\n    return res;\n}\n\n// generate sudoku base on level\nconst sudokuGen = (level) => {\n    let sudoku = newGrid(CONSTANT.GRID_SIZE);\n    console.log('sudoku', sudoku)\n    let check = sudokuCreate(sudoku);\n    console.log('checks', check)\n    if (check) {\n        let question = removeCells(sudoku, level);\n        return {\n            original: sudoku,\n            question: question\n        }\n    }\n    return undefined;\n}\n\n\n// isConfettiPaused\nvar confetti = {\n\tmaxCount: 150,\t\t//set max confetti count\n\tspeed: 2,\t\t\t//set the particle animation speed\n\tframeInterval: 15,\t//the confetti animation frame interval in milliseconds\n\talpha: 1.0,\t\t\t//the alpha opacity of the confetti (between 0 and 1, where 1 is opaque and 0 is invisible)\n\tgradient: false,\t//whether to use gradients for the confetti particles\n\tstart: null,\t\t//call to start confetti animation (with optional timeout in milliseconds, and optional min and max random confetti count)\n\tstop: null,\t\t\t//call to stop adding confetti\n\ttoggle: null,\t\t//call to start or stop the confetti animation depending on whether it's already running\n\tpause: null,\t\t//call to freeze confetti animation\n\tresume: null,\t\t//call to unfreeze confetti animation\n\ttogglePause: null,\t//call to toggle whether the confetti animation is paused\n\tremove: null,\t\t//call to stop the confetti animation and remove all confetti immediately\n\tisPaused: null,\t\t//call and returns true or false depending on whether the confetti animation is paused\n\tisRunning: null\t\t//call and returns true or false depending on whether the animation is running\n};\n\n(function() {\n\tconfetti.start = startConfetti;\n\tconfetti.stop = stopConfetti;\n\tconfetti.toggle = toggleConfetti;\n\tconfetti.pause = pauseConfetti;\n\tconfetti.resume = resumeConfetti;\n\tconfetti.togglePause = toggleConfettiPause;\n\tconfetti.isPaused = isConfettiPaused;\n\tconfetti.remove = removeConfetti;\n\tconfetti.isRunning = isConfettiRunning;\n\tvar supportsAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n\tvar colors = [\"rgba(30,144,255,\", \"rgba(107,142,35,\", \"rgba(255,215,0,\", \"rgba(255,192,203,\", \"rgba(106,90,205,\", \"rgba(173,216,230,\", \"rgba(238,130,238,\", \"rgba(152,251,152,\", \"rgba(70,130,180,\", \"rgba(244,164,96,\", \"rgba(210,105,30,\", \"rgba(220,20,60,\"];\n\tvar streamingConfetti = false;\n\tvar animationTimer = null;\n\tvar pause = false;\n\tvar lastFrameTime = Date.now();\n\tvar particles = [];\n\tvar waveAngle = 0;\n\tvar context = null;\n\n\tfunction resetParticle(particle, width, height) {\n\t\tparticle.color = colors[(Math.random() * colors.length) | 0] + (confetti.alpha + \")\");\n\t\tparticle.color2 = colors[(Math.random() * colors.length) | 0] + (confetti.alpha + \")\");\n\t\tparticle.x = Math.random() * width;\n\t\tparticle.y = Math.random() * height - height;\n\t\tparticle.diameter = Math.random() * 10 + 5;\n\t\tparticle.tilt = Math.random() * 10 - 10;\n\t\tparticle.tiltAngleIncrement = Math.random() * 0.07 + 0.05;\n\t\tparticle.tiltAngle = Math.random() * Math.PI;\n\t\treturn particle;\n\t}\n\n\tfunction toggleConfettiPause() {\n\t\tif (pause)\n\t\t\tresumeConfetti();\n\t\telse\n\t\t\tpauseConfetti();\n\t}\n\n\tfunction isConfettiPaused() {\n\t\treturn pause;\n\t}\n\n\tfunction pauseConfetti() {\n\t\tpause = true;\n\t}\n\n\tfunction resumeConfetti() {\n\t\tpause = false;\n\t\trunAnimation();\n\t}\n\n\tfunction runAnimation() {\n\t\tif (pause)\n\t\t\treturn;\n\t\telse if (particles.length === 0) {\n\t\t\tcontext.clearRect(0, 0, window.innerWidth, window.innerHeight);\n\t\t\tanimationTimer = null;\n\t\t} else {\n\t\t\tvar now = Date.now();\n\t\t\tvar delta = now - lastFrameTime;\n\t\t\tif (!supportsAnimationFrame || delta > confetti.frameInterval) {\n\t\t\t\tcontext.clearRect(0, 0, window.innerWidth, window.innerHeight);\n\t\t\t\tupdateParticles();\n\t\t\t\tdrawParticles(context);\n\t\t\t\tlastFrameTime = now - (delta % confetti.frameInterval);\n\t\t\t}\n\t\t\tanimationTimer = requestAnimationFrame(runAnimation);\n\t\t}\n\t}\n\n\tfunction startConfetti(timeout, min, max) {\n\t\tvar width = window.innerWidth;\n\t\tvar height = window.innerHeight;\n\t\twindow.requestAnimationFrame = (function() {\n\t\t\treturn window.requestAnimationFrame ||\n\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\tfunction (callback) {\n\t\t\t\t\treturn window.setTimeout(callback, confetti.frameInterval);\n\t\t\t\t};\n\t\t})();\n\t\tvar canvas = document.getElementById(\"confetti-canvas\");\n\t\tif (canvas === null) {\n\t\t\tcanvas = document.createElement(\"canvas\");\n\t\t\tcanvas.setAttribute(\"id\", \"confetti-canvas\");\n\t\t\tcanvas.setAttribute(\"style\", \"display:block;z-index:999999;pointer-events:none;position:fixed;top:0\");\n\t\t\tdocument.body.prepend(canvas);\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t\twindow.addEventListener(\"resize\", function() {\n\t\t\t\tcanvas.width = window.innerWidth;\n\t\t\t\tcanvas.height = window.innerHeight;\n\t\t\t}, true);\n\t\t\tcontext = canvas.getContext(\"2d\");\n\t\t} else if (context === null)\n\t\t\tcontext = canvas.getContext(\"2d\");\n\t\tvar count = confetti.maxCount;\n\t\tif (min) {\n\t\t\tif (max) {\n\t\t\t\tif (min == max)\n\t\t\t\t\tcount = particles.length + max;\n\t\t\t\telse {\n\t\t\t\t\tif (min > max) {\n\t\t\t\t\t\tvar temp = min;\n\t\t\t\t\t\tmin = max;\n\t\t\t\t\t\tmax = temp;\n\t\t\t\t\t}\n\t\t\t\t\tcount = particles.length + ((Math.random() * (max - min) + min) | 0);\n\t\t\t\t}\n\t\t\t} else\n\t\t\t\tcount = particles.length + min;\n\t\t} else if (max)\n\t\t\tcount = particles.length + max;\n\t\twhile (particles.length < count)\n\t\t\tparticles.push(resetParticle({}, width, height));\n\t\tstreamingConfetti = true;\n\t\tpause = false;\n\t\trunAnimation();\n\t\tif (timeout) {\n\t\t\twindow.setTimeout(stopConfetti, timeout);\n\t\t}\n\t}\n\n\tfunction stopConfetti() {\n\t\tstreamingConfetti = false;\n\t}\n\n\tfunction removeConfetti() {\n\t\tstop();\n\t\tpause = false;\n\t\tparticles = [];\n\t}\n\n\tfunction toggleConfetti() {\n\t\tif (streamingConfetti)\n\t\t\tstopConfetti();\n\t\telse\n\t\t\tstartConfetti();\n\t}\n\n\tfunction isConfettiRunning() {\n\t\treturn streamingConfetti;\n\t}\n\n\tfunction drawParticles(context) {\n\t\tvar particle;\n\t\tvar x, y, x2, y2;\n\t\tfor (var i = 0; i < particles.length; i++) {\n\t\t\tparticle = particles[i];\n\t\t\tcontext.beginPath();\n\t\t\tcontext.lineWidth = particle.diameter;\n\t\t\tx2 = particle.x + particle.tilt;\n\t\t\tx = x2 + particle.diameter / 2;\n\t\t\ty2 = particle.y + particle.tilt + particle.diameter / 2;\n\t\t\tif (confetti.gradient) {\n\t\t\t\tvar gradient = context.createLinearGradient(x, particle.y, x2, y2);\n\t\t\t\tgradient.addColorStop(\"0\", particle.color);\n\t\t\t\tgradient.addColorStop(\"1.0\", particle.color2);\n\t\t\t\tcontext.strokeStyle = gradient;\n\t\t\t} else\n\t\t\t\tcontext.strokeStyle = particle.color;\n\t\t\tcontext.moveTo(x, particle.y);\n\t\t\tcontext.lineTo(x2, y2);\n\t\t\tcontext.stroke();\n\t\t}\n\t}\n\n\tfunction updateParticles() {\n\t\tvar width = window.innerWidth;\n\t\tvar height = window.innerHeight;\n\t\tvar particle;\n\t\twaveAngle += 0.01;\n\t\tfor (var i = 0; i < particles.length; i++) {\n\t\t\tparticle = particles[i];\n\t\t\tif (!streamingConfetti && particle.y < -15)\n\t\t\t\tparticle.y = height + 100;\n\t\t\telse {\n\t\t\t\tparticle.tiltAngle += particle.tiltAngleIncrement;\n\t\t\t\tparticle.x += Math.sin(waveAngle) - 0.5;\n\t\t\t\tparticle.y += (Math.cos(waveAngle) + particle.diameter + confetti.speed) * 0.5;\n\t\t\t\tparticle.tilt = Math.sin(particle.tiltAngle) * 15;\n\t\t\t}\n\t\t\tif (particle.x > width + 20 || particle.x < -20 || particle.y > height) {\n\t\t\t\tif (streamingConfetti && particles.length <= confetti.maxCount)\n\t\t\t\t\tresetParticle(particle, width, height);\n\t\t\t\telse {\n\t\t\t\t\tparticles.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})();\n"]}